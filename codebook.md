Project - Getting & Cleaning Data
=================================

1 - Merges the training and the test sets to create one data set.
-----------------------------------------------------------------
#### 1 - Download file to a directory and unzip contents

```r
#fileUrl<-"https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip"
#download.file(fileUrl, destfile="C:/Users/Joel/Desktop/Data/GetDataA1Dataset.zip")
#unzip(zipfile="C:/Users/Joel/Desktop/Data/GetDataA1Dataset.zip",exdir="C:/Users/Joel/Desktop/Data/GetDataA1Dataset")
```

#### 2 - List data

```r
path_rf <- file.path("C:/Users/Joel/Desktop/Data/GetDataA1Dataset" , "UCI HAR Dataset")
files<-list.files(path_rf, recursive=TRUE)
files
```

```
##  [1] "activity_labels.txt"                         
##  [2] "features.txt"                                
##  [3] "features_info.txt"                           
##  [4] "README.txt"                                  
##  [5] "test/Inertial Signals/body_acc_x_test.txt"   
##  [6] "test/Inertial Signals/body_acc_y_test.txt"   
##  [7] "test/Inertial Signals/body_acc_z_test.txt"   
##  [8] "test/Inertial Signals/body_gyro_x_test.txt"  
##  [9] "test/Inertial Signals/body_gyro_y_test.txt"  
## [10] "test/Inertial Signals/body_gyro_z_test.txt"  
## [11] "test/Inertial Signals/total_acc_x_test.txt"  
## [12] "test/Inertial Signals/total_acc_y_test.txt"  
## [13] "test/Inertial Signals/total_acc_z_test.txt"  
## [14] "test/subject_test.txt"                       
## [15] "test/X_test.txt"                             
## [16] "test/y_test.txt"                             
## [17] "train/Inertial Signals/body_acc_x_train.txt" 
## [18] "train/Inertial Signals/body_acc_y_train.txt" 
## [19] "train/Inertial Signals/body_acc_z_train.txt" 
## [20] "train/Inertial Signals/body_gyro_x_train.txt"
## [21] "train/Inertial Signals/body_gyro_y_train.txt"
## [22] "train/Inertial Signals/body_gyro_z_train.txt"
## [23] "train/Inertial Signals/total_acc_x_train.txt"
## [24] "train/Inertial Signals/total_acc_y_train.txt"
## [25] "train/Inertial Signals/total_acc_z_train.txt"
## [26] "train/subject_train.txt"                     
## [27] "train/X_train.txt"                           
## [28] "train/y_train.txt"
```

### Plan - Load data, inspect, clean, then merge.
#### With reference to the readme.txt file (details the information of the dataset) Intertial Signal data was not required.
#### The files that were used in this project were:

#### Data
* test/X_test.txt
* test/y_test.txt
* train/X_train.txt
* train/y_train.txt

#### Headings, titles, informative variables
* features.txt
* subject_test.txt 
* subject_train.txt 
* activity_labels.txt

#### 3A - Load, Bind and Label Data

```r
X_test<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/test/X_test.txt", header=FALSE)
X_train<- read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/train/X_train.txt", header=FALSE)

y_test<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/test/y_test.txt", header=FALSE)
y_train<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/train/y_train.txt", header=FALSE)

subject_test<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/test/subject_test.txt", header=FALSE)
subject_train<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/train/subject_train.txt", header=FALSE)

features<-readLines("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/features.txt")
activity_labels<-read.table("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/UCI HAR Dataset/activity_labels.txt", header=FALSE)
colnames(activity_labels)<-c("Activity","Description")


#################################################
##Provide Appropriate Binding of Data & Labelling
#################################################
combinedData<-rbind(X_test, X_train)
colnames(combinedData)<-c(features)

combinedSubject<-rbind(subject_test, subject_train)
colnames(combinedSubject)<-"Subject"

combinedActivity<-rbind(y_test, y_train)
colnames(combinedActivity)<-"Activity"
combinedActivity <- merge(combinedActivity,activity_labels,by="Activity")

##Clean up
rm(X_test); rm(X_train); rm(subject_test); rm(subject_train); rm(y_test); rm(y_train); rm(activity_labels);

###########
##Merge All
###########
CombinedFitData<-data.frame(combinedData, combinedSubject ,Activity=combinedActivity$Description)
```
2 - Extracts only the measurements on the mean and standard deviation for each measurement. 
-------------------------------------------------------------------------------------------

```r
## First I extract the "Feature" columns that only represent mean and standard deviations of fitdata
extractedFeatureFitData<-CombinedFitData[,grep("mean|std", names(CombinedFitData), value=TRUE)]

## Then I amend the dataset to include "activity" and "subjects"
CombinedFitData<-data.frame(extractedFeatureFitData, combinedSubject ,Activity=combinedActivity$Description)

## Clean Up
rm(combinedData); rm(combinedSubject); rm(extractedFeatureFitData); rm(features); rm(combinedActivity);
colnames(CombinedFitData)[81]<-"Activity"
```

3 - Uses descriptive activity names to name the activities in the data set.
---------------------------------------------------------------------------
  #### Refer 3A - Load, Bind and Label Data .... combinedActivity <- merge(combinedActivity,activity_labels,by="Activity")
  
4 - Appropriately labels the data set with descriptive variable names. 
------------------------------------------------------------------

```r
names(CombinedFitData)<-gsub("^t", "time", names(CombinedFitData))
names(CombinedFitData)<-gsub("^f", "frequency", names(CombinedFitData))
names(CombinedFitData)<-gsub("Acc", "Accelerometer", names(CombinedFitData))
names(CombinedFitData)<-gsub("Gyro", "Gyroscope", names(CombinedFitData))
names(CombinedFitData)<-gsub("Mag", "Magnitude", names(CombinedFitData))
names(CombinedFitData)<-gsub("BodyBody", "Body", names(CombinedFitData))
names(CombinedFitData)<-gsub("_", "", names(CombinedFitData))
str(CombinedFitData)
```

```
## 'data.frame':	10299 obs. of  81 variables:
##  $ X1.tBodyAccelerometer.mean...X                 : num  0.257 0.286 0.275 0.27 0.275 ...
##  $ X2.tBodyAccelerometer.mean...Y                 : num  -0.0233 -0.0132 -0.0261 -0.0326 -0.0278 ...
##  $ X3.tBodyAccelerometer.mean...Z                 : num  -0.0147 -0.1191 -0.1182 -0.1175 -0.1295 ...
##  $ X4.tBodyAccelerometer.std...X                  : num  -0.938 -0.975 -0.994 -0.995 -0.994 ...
##  $ X5.tBodyAccelerometer.std...Y                  : num  -0.92 -0.967 -0.97 -0.973 -0.967 ...
##  $ X6.tBodyAccelerometer.std...Z                  : num  -0.668 -0.945 -0.963 -0.967 -0.978 ...
##  $ X41.tGravityAccelerometer.mean...X             : num  0.936 0.927 0.93 0.929 0.927 ...
##  $ X42.tGravityAccelerometer.mean...Y             : num  -0.283 -0.289 -0.288 -0.293 -0.303 ...
##  $ X43.tGravityAccelerometer.mean...Z             : num  0.115 0.153 0.146 0.143 0.138 ...
##  $ X44.tGravityAccelerometer.std...X              : num  -0.925 -0.989 -0.996 -0.993 -0.996 ...
##  $ X45.tGravityAccelerometer.std...Y              : num  -0.937 -0.984 -0.988 -0.97 -0.971 ...
##  $ X46.tGravityAccelerometer.std...Z              : num  -0.564 -0.965 -0.982 -0.992 -0.968 ...
##  $ X81.tBodyAccelerometerJerk.mean...X            : num  0.072 0.0702 0.0694 0.0749 0.0784 ...
##  $ X82.tBodyAccelerometerJerk.mean...Y            : num  0.04575 -0.01788 -0.00491 0.03227 0.02228 ...
##  $ X83.tBodyAccelerometerJerk.mean...Z            : num  -0.10604 -0.00172 -0.01367 0.01214 0.00275 ...
##  $ X84.tBodyAccelerometerJerk.std...X             : num  -0.907 -0.949 -0.991 -0.991 -0.992 ...
##  $ X85.tBodyAccelerometerJerk.std...Y             : num  -0.938 -0.973 -0.971 -0.973 -0.979 ...
##  $ X86.tBodyAccelerometerJerk.std...Z             : num  -0.936 -0.978 -0.973 -0.976 -0.987 ...
##  $ X121.tBodyGyroscope.mean...X                   : num  0.11998 -0.00155 -0.04821 -0.05664 -0.05999 ...
##  $ X122.tBodyGyroscope.mean...Y                   : num  -0.0918 -0.1873 -0.1663 -0.126 -0.0847 ...
##  $ X123.tBodyGyroscope.mean...Z                   : num  0.1896 0.1807 0.1542 0.1183 0.0787 ...
##  $ X124.tBodyGyroscope.std...X                    : num  -0.883 -0.926 -0.973 -0.968 -0.975 ...
##  $ X125.tBodyGyroscope.std...Y                    : num  -0.816 -0.93 -0.979 -0.975 -0.978 ...
##  $ X126.tBodyGyroscope.std...Z                    : num  -0.941 -0.968 -0.976 -0.963 -0.968 ...
##  $ X161.tBodyGyroscopeJerk.mean...X               : num  -0.2049 -0.1387 -0.0978 -0.1022 -0.0918 ...
##  $ X162.tBodyGyroscopeJerk.mean...Y               : num  -0.1745 -0.0258 -0.0342 -0.0447 -0.029 ...
##  $ X163.tBodyGyroscopeJerk.mean...Z               : num  -0.0934 -0.0714 -0.06 -0.0534 -0.0612 ...
##  $ X164.tBodyGyroscopeJerk.std...X                : num  -0.901 -0.962 -0.984 -0.984 -0.988 ...
##  $ X165.tBodyGyroscopeJerk.std...Y                : num  -0.911 -0.956 -0.988 -0.99 -0.992 ...
##  $ X166.tBodyGyroscopeJerk.std...Z                : num  -0.939 -0.981 -0.976 -0.981 -0.982 ...
##  $ X201.tBodyAccelerometerMagnitude.mean..        : num  -0.867 -0.969 -0.976 -0.974 -0.976 ...
##  $ X202.tBodyAccelerometerMagnitude.std..         : num  -0.705 -0.954 -0.979 -0.977 -0.977 ...
##  $ X214.tGravityAccelerometerMagnitude.mean..     : num  -0.867 -0.969 -0.976 -0.974 -0.976 ...
##  $ X215.tGravityAccelerometerMagnitude.std..      : num  -0.705 -0.954 -0.979 -0.977 -0.977 ...
##  $ X227.tBodyAccelerometerJerkMagnitude.mean..    : num  -0.93 -0.974 -0.982 -0.983 -0.987 ...
##  $ X228.tBodyAccelerometerJerkMagnitude.std..     : num  -0.896 -0.941 -0.971 -0.975 -0.989 ...
##  $ X240.tBodyGyroscopeMagnitude.mean..            : num  -0.796 -0.898 -0.939 -0.947 -0.957 ...
##  $ X241.tBodyGyroscopeMagnitude.std..             : num  -0.762 -0.911 -0.972 -0.97 -0.969 ...
##  $ X253.tBodyGyroscopeJerkMagnitude.mean..        : num  -0.925 -0.973 -0.987 -0.989 -0.99 ...
##  $ X254.tBodyGyroscopeJerkMagnitude.std..         : num  -0.894 -0.944 -0.984 -0.986 -0.99 ...
##  $ X266.fBodyAccelerometer.mean...X               : num  -0.919 -0.961 -0.992 -0.993 -0.992 ...
##  $ X267.fBodyAccelerometer.mean...Y               : num  -0.918 -0.964 -0.965 -0.968 -0.969 ...
##  $ X268.fBodyAccelerometer.mean...Z               : num  -0.789 -0.957 -0.967 -0.967 -0.98 ...
##  $ X269.fBodyAccelerometer.std...X                : num  -0.948 -0.984 -0.995 -0.996 -0.995 ...
##  $ X270.fBodyAccelerometer.std...Y                : num  -0.925 -0.97 -0.974 -0.977 -0.967 ...
##  $ X271.fBodyAccelerometer.std...Z                : num  -0.636 -0.942 -0.962 -0.969 -0.978 ...
##  $ X294.fBodyAccelerometer.meanFreq...X           : num  0.0111 0.3521 0.1804 0.0627 -0.0189 ...
##  $ X295.fBodyAccelerometer.meanFreq...Y           : num  0.12125 0.17455 0.13346 0.26172 -0.00998 ...
##  $ X296.fBodyAccelerometer.meanFreq...Z           : num  -0.5229 -0.3207 0.1827 0.1518 0.0952 ...
##  $ X345.fBodyAccelerometerJerk.mean...X           : num  -0.9 -0.944 -0.991 -0.991 -0.991 ...
##  $ X346.fBodyAccelerometerJerk.mean...Y           : num  -0.937 -0.969 -0.973 -0.972 -0.98 ...
##  $ X347.fBodyAccelerometerJerk.mean...Z           : num  -0.924 -0.973 -0.972 -0.97 -0.983 ...
##  $ X348.fBodyAccelerometerJerk.std...X            : num  -0.924 -0.962 -0.992 -0.992 -0.994 ...
##  $ X349.fBodyAccelerometerJerk.std...Y            : num  -0.943 -0.98 -0.971 -0.975 -0.979 ...
##  $ X350.fBodyAccelerometerJerk.std...Z            : num  -0.948 -0.981 -0.972 -0.981 -0.989 ...
##  $ X373.fBodyAccelerometerJerk.meanFreq...X       : num  0.451 0.473 0.271 0.277 0.18 ...
##  $ X374.fBodyAccelerometerJerk.meanFreq...Y       : num  0.1372 0.1672 -0.2722 -0.0383 -0.1392 ...
##  $ X375.fBodyAccelerometerJerk.meanFreq...Z       : num  -0.1803 -0.2431 -0.0825 0.0218 0.1009 ...
##  $ X424.fBodyGyroscope.mean...X                   : num  -0.824 -0.923 -0.973 -0.972 -0.976 ...
##  $ X425.fBodyGyroscope.mean...Y                   : num  -0.808 -0.926 -0.981 -0.981 -0.98 ...
##  $ X426.fBodyGyroscope.mean...Z                   : num  -0.918 -0.968 -0.972 -0.967 -0.969 ...
##  $ X427.fBodyGyroscope.std...X                    : num  -0.903 -0.927 -0.973 -0.967 -0.974 ...
##  $ X428.fBodyGyroscope.std...Y                    : num  -0.823 -0.932 -0.977 -0.972 -0.977 ...
##  $ X429.fBodyGyroscope.std...Z                    : num  -0.956 -0.97 -0.979 -0.965 -0.97 ...
##  $ X452.fBodyGyroscope.meanFreq...X               : num  0.184 0.0181 -0.4791 -0.497 -0.4275 ...
##  $ X453.fBodyGyroscope.meanFreq...Y               : num  -0.0593 -0.2273 -0.2101 -0.4999 -0.2781 ...
##  $ X454.fBodyGyroscope.meanFreq...Z               : num  0.4381 -0.1517 0.0493 -0.2589 -0.2913 ...
##  $ X503.fBodyAccelerometerMagnitude.mean..        : num  -0.791 -0.954 -0.976 -0.973 -0.978 ...
##  $ X504.fBodyAccelerometerMagnitude.std..         : num  -0.711 -0.96 -0.984 -0.982 -0.979 ...
##  $ X513.fBodyAccelerometerMagnitude.meanFreq..    : num  -0.4835 0.2035 0.3425 0.3312 0.0711 ...
##  $ X516.fBodyAccelerometerJerkMagnitude.mean..    : num  -0.895 -0.945 -0.971 -0.972 -0.987 ...
##  $ X517.fBodyAccelerometerJerkMagnitude.std..     : num  -0.896 -0.934 -0.97 -0.978 -0.99 ...
##  $ X526.fBodyAccelerometerJerkMagnitude.meanFreq..: num  -0.0354 -0.4912 0.1407 0.1486 0.4222 ...
##  $ X529.fBodyGyroscopeMagnitude.mean..            : num  -0.771 -0.924 -0.975 -0.976 -0.977 ...
##  $ X530.fBodyGyroscopeMagnitude.std..             : num  -0.797 -0.917 -0.974 -0.971 -0.97 ...
##  $ X539.fBodyGyroscopeMagnitude.meanFreq..        : num  -0.0474 -0.0315 -0.1688 -0.2856 -0.3491 ...
##  $ X542.fBodyGyroscopeJerkMagnitude.mean..        : num  -0.89 -0.952 -0.986 -0.986 -0.99 ...
##  $ X543.fBodyGyroscopeJerkMagnitude.std..         : num  -0.907 -0.938 -0.983 -0.986 -0.991 ...
##  $ X552.fBodyGyroscopeJerkMagnitude.meanFreq..    : num  0.0716 -0.4012 0.0629 0.1167 -0.1217 ...
##  $ Subject                                        : int  2 2 2 2 2 2 2 2 2 2 ...
##  $ Activity                                       : Factor w/ 6 levels "LAYING","SITTING",..: 4 4 4 4 4 4 4 4 4 4 ...
```
5 - Tidy data set with the average of each variable for each activity and each subject.
---------------------------------------------------------------------------------------

```r
library(plyr)
agg.CombinedFitData<-aggregate(. ~Subject + Activity, CombinedFitData, mean)
agg.CombinedFitData<-agg.CombinedFitData[order(agg.CombinedFitData$Subject,agg.CombinedFitData$Activity),]
write.table(agg.CombinedFitData, file = "C:/Users/Joel/Desktop/Data/GetDataA1Dataset/tidydata.txt",row.name=FALSE)
```

5 - Codebook.

```r
#library(knitr); knit2html("C:/Users/Joel/Desktop/Data/GetDataA1Dataset/codebook.Rmd")
```

